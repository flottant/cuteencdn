console.log(" %c Theme Cuteen v3.1.200810 %c https://blog.zwying.com/ ","color: #fff; background: #2dce89; padding:5px;","background: #1c2b36; padding:5px;");var CuteenFunc={sidebar:function(){var b;b=CUTEEN_SETTING.HEADROOM?16:85,0<$("#sidebar").length&&(new SidebarFollow).init({element:jQuery(".sidebar-2"),prevElement:jQuery(".sidebar-1"),distanceToTop:b})},QiPao:function(){CUTEEN_SETTING.QIPAO&&$("#hero").circleMagic({radius:10,density:.2,color:"rgba(255,255,255,.4)",clearOffset:.99})},owo:function(){$(".OwO666").length>0&&new OwO({logo:"OwO666",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByClassName("textarea")[0],api:CUTEEN_SETTING.STATIC_PATH+"Static/Func/OwO/OwO.json",position:"down",width:"100%",maxHeight:"250px"})},SearchModel:function(){$("#searchbox").length>0&&(CUTEEN_SETTING.IS_MOBILE?$("#searchbox").iziModal({title:"搜索内容",headerColor:"var(--mlv)",background:"#fff",width:"100%"}):$("#searchbox").iziModal({title:"搜索内容",headerColor:"var(--mlv)",background:"#fff",width:"50%"}))},Entersearch:function(item){13==(window.event||arguments.callee.caller.arguments[0]).keyCode&&(CuteenFunc.startSearch(item),$("#searchbox").iziModal("close"))},startSearch:function(item){var c=$(item).val();if($(item).val(""),$(item).blur(),c&&""!=c){var t=CUTEEN_SETTING.SITE_URL+c;CUTEEN_SETTING.PJAX?$.pjax({url:t,container:"#pjax",fragment:"#pjax",timeout:8e3}):window.open(t,"_self")}else $(item).attr("placeholder","你还没有输入任何信息")},TopPost:function(){$(".top-top").length>0&&new tns({container:".top-top",items:1,axis:"vertical",controls:!1,autoplay:!0,autoplayTimeout:3e3,autoplayButtonOutput:!1})},BackTop:function(){$("#btn").hide(),$(function(){$(window).scroll(function(){$(window).scrollTop()>50?$("#btn").fadeIn(200):$("#btn").fadeOut(200)}),$("#btn").click(function(){return $("body,html").animate({scrollTop:0},500),!1})}),$(function(){$("#say").click(function(){return $("body,html").animate({scrollTop:$("html, body").get(0).scrollHeight},500),!1})})},Toc:function(){if($("#right-menu").length>0){tocbot.init({tocSelector:"#MENU",contentSelector:".duta",headingSelector:"h2,h3,h4,h5",headingsOffset:70})}},NoCopy:function(){CUTEEN_SETTING.NOPA&&function(){var callbacks=[],timeLimit=50,open=!1;return setInterval(function(){var startTime=new Date;new Date-startTime>timeLimit?(open||callbacks.forEach(function(fn){fn.call(null)}),open=!0,window.stop(),alert("大佬别再扒了！赶紧买一份吧ヽ(￣ω￣(￣ω￣〃)ゝ"),document.body.innerHTML=""):open=!1},1),{addListener:function(fn){callbacks.push(fn)},cancleListenr:function(fn){callbacks=callbacks.filter(function(v){return v!==fn})}}}().addListener(function(){window.location.reload()})},NavBgFix:function(){CUTEEN_SETTING.HERO_IMG&&$(document).on("scroll",function(){$(document).scrollTop()<=60?$(".nav").addClass("nobg p1").removeClass("hasbg p2"):$(".nav").removeClass("nobg p1").addClass("hasbg p2")})},AjaxNext:function(){(CUTEEN_SETTING.AJAX_PAGE||CUTEEN_SETTING.IS_MOBILE)&&$(".next:not(.shangyiye):not(.xiayiye)").click(function(){var href=$(".next").attr("href");return void 0!=href&&$.ajax({url:href,type:"get",beforeSend:function(){$(".next").hide()},error:function(){},success:function(data){$(".next").show().text("点击查看更多");var $res=$(data).find(".ajaxcard");$(".cuteup").append($res.fadeIn(500));var newhref=$(data).find(".next").attr("href");void 0!=newhref?$(".next").attr("href",newhref):$(".next").remove()}}),!1})},Acc:function(){$(".allpost").length>0&&($(".allpost .accordion-thumb").last().addClass("lastyj"),$(".allpost .accordion-thumb").first().addClass("firstyj"),$(".allpost .accordion-item").first().addClass("open")),$(".accordion > .accordion-item.open").children(".accordion-panel").slideDown(),$(".accordion  .accordion-thumb").click(function(){$(this).parent().siblings(".accordion-item").removeClass("open").children(".accordion-panel").slideUp(),$(this).parent().toggleClass("open").children(".accordion-panel").slideToggle("ease-out")})},Tab:function(){$(".tabs-wrap").each(function(){$(".tabs-item:nth-of-type(1)").addClass("active"),$(".tabs-content:nth-of-type(1)").addClass("active"),$(".tabs-item").click(function(){$(this).addClass("active"),$(this).siblings().removeClass("active"),$(this).siblings(".tabs-content").eq($(this).index()).addClass("active")})})},DarkModeChecked:function(){if("2"==CUTEEN_SETTING.THEME_COLOR)return $("html").addClass("DarkMode"),void $(":root").css("--darkmode","#475669");if("1"==CUTEEN_SETTING.THEME_COLOR)return $("html").removeClass("DarkMode"),void $(":root").css("--darkmode","#eff2f7");if("0"==CUTEEN_SETTING.THEME_COLOR&&""===document.cookie.replace(/(?:(?:^|.*;\s*)DarkMode\s*\=\s*([^;]*).*$)|^.*$/,"$1"))(new Date).getHours()>=20||(new Date).getHours()<6?($("html").addClass("DarkMode"),$(":root").css("--darkmode","#475669"),document.cookie="DarkMode=1;path=/",console.log("夜间模式开启")):($("html").removeClass("DarkMode"),$(":root").css("--darkmode","#eff2f7"),document.cookie="DarkMode=0;path=/",console.log("夜间模式关闭"));else{var DarkMode=document.cookie.replace(/(?:(?:^|.*;\s*)DarkMode\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0";"0"==DarkMode?($("html").removeClass("DarkMode"),$(":root").css("--darkmode","#eff2f7")):"1"==DarkMode&&($("html").addClass("DarkMode"),$(":root").css("--darkmode","#475669"))}},SwitchDarkMode:function(){$('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"><svg class="icon yueliang" aria-hidden="true"><use xlink:href="#icon-moon_"></use></svg><svg class="icon taiyang" aria-hidden="true"><use xlink:href="#icon-sun1"></use></svg></div></div>').appendTo($("body")),$(".DarkMode").length>0?($(".yueliang").css("display","block"),$(".taiyang").css("display","none")):($(".taiyang").css("display","block"),$(".yueliang").css("display","none")),setTimeout(function(){"0"==(document.cookie.replace(/(?:(?:^|.*;\s*)DarkMode\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0")?(setTimeout("$('html').addClass('DarkMode');$(':root').css('--darkmode', '#475669');$('.taiyang').css('display','none'),$('.yueliang').css('display','block')",900),document.cookie="DarkMode=1;path=/",console.log("夜间模式开启"),$("#modeicon").attr("xlink:href","#icon-sun")):(setTimeout("$('html').removeClass('DarkMode');$(':root').css('--darkmode', '#eff2f7');$('.yueliang').css('display','none'),$('.taiyang').css('display','block')",900),document.cookie="DarkMode=0;path=/",console.log("夜间模式关闭"),$("#modeicon").attr("xlink:href","#icon-_moon")),setTimeout(function(){$(".Cuteen_DarkSky").fadeOut(1e3,function(){$(this).remove()})},2e3)})},upstar:function(){if(a=$(".like").attr("data-pid"),i=$.cookie("upstar"),i==a)return $(".like").addClass("done"),iziToast.show({title:"您已经点过赞啦",class:"noshadow",position:"topRight",backgroundColor:"var(--mzi)",titleColor:"var(--bai)",iconColor:"#ffffff",progressBarColor:"#ffffff",icon:"fa fa-grin-alt",timeout:5e3});$.post("action/like",{cid:a},function(){$.cookie("upstar",a,{expires:7}),$(".like").find("span.likeCount").text(parseInt($(".like").find("span.likeCount").text())+1),iziToast.show({title:"点赞成功！感谢支持~",class:"noshadow",position:"topRight",backgroundColor:"var(--mlv)",titleColor:"var(--bai)",iconColor:"#ffffff",progressBarColor:"#ffffff",icon:"fa fa-check",timeout:5e3})})},MobileBarAcc:function(){$(".mobfl").click(function(){$(this).next(".mobzkcon").slideToggle(300),$(this).toggleClass("active")})},MobileMenu:function(){$("#mobar").toggleClass("leftopen"),$("body").toggleClass("mobile-nav-open")},MobileCloseBar:function(){$(".mobile-nav-open").length>0&&CuteenFunc.MobileMenu(),$(".rightopen").length>0&&$("body").toggleClass("rightopen")},randomString:function(len){len=len||32;let chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",res="";for(let i=0;i<len;i++)res+=chars.charAt(Math.floor(Math.random()*chars.length));return res},getCodeFromBlock:function(block){var codeOfBlocks={};if(void 0!=codeOfBlocks[block.id])return codeOfBlocks[block.id];let lines=$(".hljs-ln-code",block),res="";for(let i=0;i<lines.length-1;i++)res+=lines[i].innerText,res+="\n";return res+=lines[lines.length-1].innerText,codeOfBlocks[block.id]=res,res},highlightJsRender:function(){"undefined"!=typeof hljs&&$(".duta pre code").each(function(index,block){if($(block).hasClass("no-hljs"))return;$(block).parent().attr("id",CuteenFunc.randomString()),hljs.highlightBlock(block),hljs.lineNumbersBlock(block,{singleLine:!0}),$(block).parent().addClass("hljs-codeblock"),$(block).attr("hljs-codeblock-inner","");let copyBtnID="copy_btn_"+CuteenFunc.randomString();$(block).parent().append('<div class="hljs-control hljs-title">\n\t\t\t<div class="hljs-control-btn hljs-control-toggle-break-line">\n\t\t\t\t\t\t<i class="fa fa-align-left"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="hljs-control-btn hljs-control-copy" id='+copyBtnID+'>\n\t\t\t\t\t\t<i class="fa fa-clipboard"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>');let clipboard=new ClipboardJS("#"+copyBtnID,{text:function(trigger){return CuteenFunc.getCodeFromBlock($(block).parent()[0])}});clipboard.on("success",function(e){iziToast.show({title:"复制成功",message:"代码已复制到剪贴板",class:"noshadow",position:"topRight",backgroundColor:"var(--mlv)",titleColor:"#ffffff",messageColor:"#ffffff",iconColor:"#ffffff",progressBarColor:"#ffffff",icon:"fa fa-check",timeout:5e3})}),clipboard.on("error",function(e){iziToast.show({title:"复制失败",message:"请手动复制到剪贴板",class:"noshadow",position:"topRight",backgroundColor:"#f5365c",titleColor:"#ffffff",messageColor:"#ffffff",iconColor:"#ffffff",progressBarColor:"#ffffff",icon:"fa fa-close",timeout:5e3})})})},CodeToolBar:function(){$(document).on("click",".hljs-control-toggle-break-line",function(){$(this).parent().parent().toggleClass("hljs-break-line")})},FixSidebarHeight:function(){var g=$("#qjcbl").outerHeight(!0);$("#BLOG_CARD").outerHeight(!0)<g&&$("#BLOG_CARD").css("min-height",g)},FixSomeStyle:function(){if($(".sidebar-2").css("width",$(".widthhhh").width()),0<$(".sidebar-2").prev().length&&$(".sidebar-2").css("position","static").prev().remove(),CUTEEN_SETTING.HEADROOM){var myElement=document.querySelector(".nav");new Headroom(myElement).init()}}};function before_pjax(){$("body").append('<div id="page-loading" ><div class="circle"></div></div>'),CuteenFunc.MobileCloseBar()}function after_pjax(){Cuteen.loading(),CuteenFunc.TopPost(),CuteenFunc.CodeToolBar()}function end_pjax(){Cuteen.init(),AjaxComment()}function AjaxComment(){$("#comment-form").submit(function(){return $.ajax({url:$(this).attr("action"),type:$(this).attr("method"),data:$(this).serializeArray(),beforeSend:function(){$("#comment-submit-button").attr("disabled","disabled").text("提交中……")},error:function(){return iziToast.error({title:"评论失败",message:"参数提交错误，请刷新后重试",position:"topRight"}),$("#comment-submit-button").removeClass("lv").addClass("hong").text("提交失败"),!1},success:function(data){$("#comment-submit-button").removeAttr("disabled","disabled").text("提交评论");if(/<title>Error<\/title>/.test(data)){var text=data.match(/<div(.*?)>(.*?)<\/div>/i),str="回传参数错误，请刷新后重试";null!=text&&(str=text[2]),iziToast.error({title:"评论失败",message:str,position:"topRight"})}else{$("#textarea").val(""),$("#textarea").css("height",""),"none"!=$("#cancel-comment-reply-link").css("display")&&$("#cancel-comment-reply-link").click();var parent=!0;if($.each($(this).serializeArray(),function(i,field){"parent"==field.name&&(parent=!1)}),$(".All_Pagination .prev").length&&!parent){var dd=$(".prev a").attr("href");$(".prev a").attr("href",""),dd=dd.replace(/comment-page-(.*?)#comments/,"comment-page-1#comments"),$(".prev a").attr("href",dd),$(".prev a").get(0).click()}else new_id="";if(new_id=$(".comment-list",data).html().match(/id=\"?comment-\d+/g).join().match(/\d+/g).sort(function(a,b){return a-b}).pop(),$("#commentcontent").html($("#commentcontent",data).html()),iziToast.success({title:"评论成功",message:"您的留言已收到",position:"topRight"}),new_id){var $body=window.opera?"CSS1Compat"==document.compatMode?$("html"):$("body"):$("html,body");$body.animate({scrollTop:$("#comment-"+new_id).offset().top-100},500)}else $body.animate({scrollTop:$("#comments").offset().top-100},500)}}}),!1})}Cuteen={init:function(){CuteenFunc.SearchModel(),CuteenFunc.MobileBarAcc(),CuteenFunc.owo(),CuteenFunc.FixSomeStyle(),CuteenFunc.QiPao(),CuteenFunc.Toc(),CuteenFunc.NoCopy(),CuteenFunc.NavBgFix(),CuteenFunc.Acc(),CuteenFunc.Tab(),CuteenFunc.sidebar(),CuteenFunc.DarkModeChecked(),CuteenFunc.FixSidebarHeight(),CuteenFunc.highlightJsRender(),CuteenFunc.AjaxNext(),CuteenFunc.BackTop()},loading:function(){$(window).preloader({selector:"#page-loading",delay:0})}},$(document).ready(function(){Cuteen.init(),Cuteen.loading(),CuteenFunc.TopPost(),CuteenFunc.CodeToolBar()}),MathJax={options:{renderActions:{addMenu:[0,"",""]}},tex:{inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"}},AjaxComment();